<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D·ª± ƒêo√°n B·ªánh Tim</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css')}}" >
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .prediction-section {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 8px;
            background: #f8f9fa;
            border-left: 5px solid #007bff;
        }

        .prediction-text {
            font-size: 1.2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .text-danger {
            color: #dc3545;
        }

        .text-success {
            color: #28a745;
        }

        .advice-section {
            background: white;
            border-radius: 8px;
        }

        .advice-header {
            background: #007bff;
            color: white;
            padding: 15px 20px;
            border-radius: 8px 8px 0 0;
            font-size: 1.2em;
        }

        .advice-content {
            padding: 20px;
            line-height: 1.8;
        }

        .analysis-item {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }

        .analysis-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        ul {
            padding-left: 20px;
        }

        li {
            margin-bottom: 8px;
        }

        .emoji {
            margin-right: 8px;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .prediction-section,
            .advice-section {
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>D·ª± ƒêo√°n Nguy C∆° M·∫Øc B·ªánh Tim</h1>
        <form method="POST" action="/">
            
            <div class='form-group'>
                <label for="age">Tu·ªïi:</label>
                <input type="number" id="age" name="age" required><br>
            </div>
            <div class="form-group">
                <label for="sex">Gi·ªõi t√≠nh (1: Nam, 0: N·ªØ):</label>
                <input type="number" id="sex" name="sex" required><br>
            </div>
            <div class="form-group">
                <label for="cp">Lo·∫°i ƒëau ng·ª±c (0-3):</label>
                <input type="number" id="cp" name="cp" required><br>
            </div>
            <div class="form-group">
                <label for="trestbps">Huy·∫øt √°p ngh·ªâ (mmHg):</label>
                <input type="number" id="trestbps" name="trestbps" required><br>
            </div>
            
            <div class="form-group">
                <label for="chol">Cholesterol (mg/dL):</label>
                <input type="number" id="chol" name="chol" required><br>
            </div>
            <div class="form-group">
                <label for="fbs">ƒê∆∞·ªùng huy·∫øt l√∫c ƒë√≥i > 120 mg/dL (1: C√≥, 0: Kh√¥ng):</label>
                <input type="number" id="fbs" name="fbs" required><br>
            </div>
            <div class="form-group">
                <label for="restecg">ƒêi·ªán t√¢m ƒë·ªì khi ngh·ªâ (0-2):</label>
                <input type="number" id="restecg" name="restecg" required><br>
            </div>
            <div class="form-group">
                <label for="thalach">Nh·ªãp tim t·ªëi ƒëa:</label>
                <input type="number" id="thalach" name="thalach" required><br>
            </div>
            <div class="form-group">
                <label for="exang">ƒêau ng·ª±c do g·∫Øng s·ª©c (1: C√≥, 0: Kh√¥ng):</label>
                <input type="number" id="exang" name="exang" required><br>
            </div>
            <div class="form-group">
                <label for="oldpeak">Ch√™nh l·ªách ST:</label>
                <input type="number" step="0.1" id="oldpeak" name="oldpeak" required><br>
            </div>

           
            <div class="form-group">
                <label for="slope">D·ªëc ST (0-2):</label>
                <input type="number" id="slope" name="slope" required><br>
            </div>
            <div class="form-group">
                <label for="ca">S·ªë l∆∞·ª£ng m·∫°ch m√°u b·ªã h·∫πp (0-4):</label>
                <input type="number" id="ca" name="ca" required><br>
            </div>
            <div class="form-group">
                <label for="thal">Thalassemia (1-3):</label>
                <input type="number" id="thal" name="thal" required><br>
            </div>

            <button class="button" type="submit">D·ª± ƒêo√°n</button>
    </div>
    <div class="container">
        {% if prediction is not none %}
            <div class="prediction-section">
                <h2>üè• K·∫øt qu·∫£ d·ª± ƒëo√°n</h2>
                <p class="prediction-text {% if prediction == 1 %}text-danger{% else %}text-success{% endif %}">
                    {{ prediction_text }}
                </p>
            </div>

            <div class="advice-section">
                <div class="advice-header">
                    <span class="emoji">üë®‚Äç‚öïÔ∏è</span> Ph√¢n t√≠ch v√† L·ªùi khuy√™n t·ª´ chuy√™n gia
                </div>
                
                <div class="advice-content">
                    <!-- Ph√¢n t√≠ch ch·ªâ s·ªë -->
                    <h3>üìä Ph√¢n t√≠ch chi ti·∫øt t·ª´ng ch·ªâ s·ªë:</h3>
                    
                    <div class="indicator">
                        <div class="indicator-label">üîµ Tu·ªïi:</div>
                        <div class="indicator-value">{{ user_data.age[0] }} tu·ªïi</div>
                        <div class="indicator-comment">{{ age_comment }}</div>
                    </div>

                    <div class="indicator">
                        <div class="indicator-label">‚ù§Ô∏è Huy·∫øt √°p:</div>
                        <div class="indicator-value">{{ user_data.trestbps[0] }} mmHg</div>
                        <div class="indicator-comment">{{ bp_comment }}</div>
                    </div>

                    <div class="indicator">
                        <div class="indicator-label">üî¨ Cholesterol:</div>
                        <div class="indicator-value">{{ user_data.chol[0] }} mg/dl</div>
                        <div class="indicator-comment">{{ chol_comment }}</div>
                    </div>

                    <div class="indicator">
                        <div class="indicator-label">üíì Nh·ªãp tim:</div>
                        <div class="indicator-value">{{ user_data.thalach[0] }} nh·ªãp/ph√∫t</div>
                        <div class="indicator-comment">{{ heart_rate_comment }}</div>
                    </div>

                    <!-- ƒê√°nh gi√° nguy c∆° -->
                    <div class="risk-assessment">
                        <h3>‚ö†Ô∏è ƒê√°nh gi√° m·ª©c ƒë·ªô nguy c∆°:</h3>
                        <p>{{ risk_assessment }}</p>
                    </div>

                    <!-- L·ªùi khuy√™n -->
                    <div class="recommendations">
                        <h3>üí° L·ªùi khuy√™n:</h3>
                        {{ recommendations|safe }}
                    </div>

                    <!-- C√°c b∆∞·ªõc ti·∫øp theo -->
                    <div class="next-steps">
                        <h3>üìã C√°c b∆∞·ªõc c·∫ßn th·ª±c hi·ªán ti·∫øp theo:</h3>
                        {{ next_steps|safe }}
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</body>
</html>